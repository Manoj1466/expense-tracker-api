
{% extends 'index.html' %}

{% block main %}
<div class="showcase-container">

  <h2>Expense Report</h2><br><br>

  <form method="GET" class="filter-form">
    <label for="from_date">From:</label>
    <input type="date" id="from_date" name="from_date" value="{{ request.GET.from_date }}">

    <label for="to_date">To:</label>
    <input type="date" id="to_date" name="to_date" value="{{ request.GET.to_date }}">

    <button type="submit">Filter</button>
  </form><br><br>

  <div class="total-amount">
    <strong>Total Amount:</strong> ₹ {{ total_amount }}
  </div><br><br>

  <table class="expense-table">
    <thead>
      <tr>
        <th>ID</th>
        <th>Date</th>
        <th>Category</th>
        <th>Description</th>
        <th>Amount</th>
      </tr>
    </thead>
    <tbody>
      {% for expense in expenses %}
        <tr>
          <td>{{ forloop.counter }}</td>
          <td>{{ expense.date }}</td>
          <td>{{ expense.category }}</td>
          <td>{{ expense.description }}</td>
          <td>₹ {{ expense.amount }}</td>
          <td><a href="{% url 'delete_expense' expense.id %}">Delete</a></td>
        </tr>
      {% empty %}
        <tr>
          <td colspan="5" style="text-align:center;">No expenses found.</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
  {% if messages %}
  <ul class="messages">
    {% for message in messages %}
      <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
    {% endfor %}
  </ul>
  {% endif %}
</div>
<div id="back-btn">
  <a href="{% url 'main_page' %}"><button>Go to Main</button></a>
</div>
{% endblock %}




